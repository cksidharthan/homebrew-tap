# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Recovercheck < Formula
  desc "A tool to check for panic recovery in Go code"
  homepage "https://github.com/cksidharthan/recovercheck"
  version "0.0.1"
  license "MIT"

  depends_on "git"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/cksidharthan/recovercheck/releases/download/v0.0.1/recovercheck_Darwin_x86_64.tar.gz"
      sha256 "37ccaade23c0dccf767dc1d9e2f2df107789a6fe7a850f1f3a5b8f1ade892109"

      def install
        bin.install "recovercheck"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/cksidharthan/recovercheck/releases/download/v0.0.1/recovercheck_Darwin_arm64.tar.gz"
      sha256 "7234732e41a8ee2abffa3fd5cc6189410ea71bcdaf4c7181d5fdb239b8b4ade4"

      def install
        bin.install "recovercheck"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? and Hardware::CPU.is_64_bit?
      url "https://github.com/cksidharthan/recovercheck/releases/download/v0.0.1/recovercheck_Linux_x86_64.tar.gz"
      sha256 "6b33e556aa2fcf3b8fdd5b67450b89efbcfec61506a102dac4c5049074495895"
      def install
        bin.install "recovercheck"
      end
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://github.com/cksidharthan/recovercheck/releases/download/v0.0.1/recovercheck_Linux_arm64.tar.gz"
      sha256 "6e8d0d6ca833f532fd255a0edb471226c134f11c77d78f1633741ade75274455"
      def install
        bin.install "recovercheck"
      end
    end
  end

  def caveats
    <<~EOS
      recovercheck is a tool to check for panic recovery in Go code.
      Run 'recovercheck' to start the tool.
    EOS
  end

  test do
    system "#{bin}/recovercheck", "--version"
  end
end
